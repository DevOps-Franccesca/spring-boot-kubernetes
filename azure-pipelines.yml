# Franccesca

pool:
  vmImage: ubuntu-latest

stages:

- stage: SAST
  jobs:
  - job: sast
    displayName: 'SAST'
    steps:
      - task: SonarCloudPrepare@1
        inputs:
          SonarCloud: 'Sonarcloud'
          organization: 'devops-franccesca'
          scannerMode: 'Other'
          extraProperties: |
            sonar.projectVersion=1.0.0.0
            sonar.projectName=spring-boot-kubernetes
            sonar.sources=src/main/java/
            sonar.language=java
            sonar.sourceEncoding=UTF-8
      - task: Maven@3
        inputs:
          mavenPomFile: 'pom.xml'
          goals: 'clean verify sonar:sonar'
          publishJUnitResults: true
          testResultsFiles: '**/surefire-reports/TEST-*.xml'
          codeCoverageToolOption: JaCoCo
          javaHomeOption: 'JDKVersion'
          jdkVersionOption: '1.11'
          mavenVersionOption: 'Default'
      - task: SonarCloudAnalyze@1
      - task: SonarCloudPublish@1




